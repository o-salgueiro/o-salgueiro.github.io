const dict = {
  gl: {
    "site.title":"Club O Salgueiro – Tenis","site.brand":"Sociedad Deportiva O Salgueiro",
    "nav.tennis":"Tenis","nav.activities":"Actividades","nav.history":"Historia","nav.facilities":"Instalacións","nav.news":"Novas","nav.fees":"Tarifas","nav.contact":"Contacto",
    "hero.tag":"Tenis como actividade principal","hero.title":"O teu club de tenis na Coruña","hero.subtitle":"Benvidos á Sociedade Deportiva O'Salgueiro: club familiar para practicar tenis, pádel e natación nunha contorna natural única.","hero.cta.tennis":"Ver tenis","hero.cta.contact":"Contactar",
    "tennis.title":"Tenis","tennis.facilities.title":"Pistas e instalacións","tennis.facilities.text":"Pistas de tenis con iluminación e vestiarios. Entorno natural e tranquilo para xogar todo o ano.",
    "activities.title":"Outras actividades","activities.padel.title":"Pádel","activities.padel.text":"Pistas dobres e quedadas semanais","activities.pool.title":"Piscina","activities.pool.text":"Piscina ao aire libre en ampla zona verde para a tempada de verán.","activities.social.title":"Actividades sociais","activities.social.text":"Ligas internas de tenis, encontros familiares e eventos do clube.",
    "history.title":"A nosa historia","history.lead1":"A nosa historia",
    "history.p1":"A orixe da Sociedade Deportiva O'Salgueiro remóntase a 1975, cando un grupo de apaixonados polo tenis decidiu mercar uns terreos para construír a pista de tenis. Case todos eles seguen hoxe practicando este deporte e continúan como socios do Club.",
    "history.p2":"Aquela pista inicial, co paso dos anos, foi evolucionando ata o actual conxunto de instalacións que enriquecen os servizos que a Sociedade Deportiva presta aos seus socios.",
    "history.p3":"O'Salgueiro mantivo ao longo destes anos unha grande presenza no mundo da competición do tenis galego.",
    "history.p4":"Entre os seus socios atópanse, desde hai anos e na actualidade, campións de Galicia, campións de España e campións de Europa en diversas categorías de veteranos, tanto en individuais como en dobres.",
    "fac.title":"Instalacións","fac.p1":"Tres pistas de tenis quick, dúas delas con iluminación artificial.","fac.p2":"Pista de pádel de herba sintética con iluminación artificial.","fac.p3":"Campo de fútbol 7 de herba natural.","fac.p4":"Magnífica piscina de 12 x 6 m. dotada das últimas tecnoloxías e con solario de herba natural.","fac.p5":"Pérgola con capacidade para 25 persoas e tres grellas á disposición dos socios.","fac.p6":"Sala de tecnificación.",
    "fac.techroom":"Sala de tecnificación.","fac.gym":"Ximnasio.","fac.sauna":"Sauna.","fac.lockers":"Vestiarios femininos e masculinos.","fac.lounge":"Salón de TV e xogos de mesa.","fac.pingpong":"Tenis de mesa.","fac.billiards":"Mesa de billar francés.",
    "news.title":"Novas","news.item1.title":"Liga interna 2026","news.item1.text":"Aberta a inscrición para a nova tempada. Categorías por niveis.","news.item2.title":"Campamento de verán","news.item2.text":"Escola intensiva para nenos e nenas en xullo e agosto.","news.item3.title":"Clínic con xogadores locais","news.item3.text":"Sesión especial con adestradores convidados.",
    "fees.title":"Tarifas","fees.membership.title":"Cota familiar de socio/a","fees.membership.text":"Acceso ao clube, descontos en clases e reservas preferentes.","fees.note":"Primeiro día de proba gratis. Escríbenos para reservar data.",
    "contact.title":"Contacto","contact.name":"Nome","contact.message":"Mensaxe","contact.send":"Enviar","contact.where":"Onde estamos","contact.map":"Ver en Google Maps","contact.extra":"A 4 km de Betanzos · Horario 24 horas",
    "mailto.prompt":"Semella que non hai un cliente de correo predeterminado para \"mailto:\". Quiere abrir Gmail para enviar a mensaxe?",
    "footer.about.title":"Sobre o clube","footer.about.text":"A Sociedade Deportiva O'Salgueiro é un club familiar con instalacións para tenis, pádel e natación, nunha paisaxe de beleza singular e en plena natureza.","footer.links.title":"Ligazóns","footer.legal.title":"Legal","footer.legal.legal":"Aviso Legal","footer.legal.privacy":"Política de Privacidade","footer.legal.cookies":"Política de Cookies",
    "club.title":"Sociedade Deportiva O'Salgueiro","club.p1":"A Sociedade Deportiva O'Salgueiro é un club deportivo de carácter familiar con estupendas instalacións para a práctica do tenis, pádel e natación, actividades que poden realizar persoas de todas as idades e é unha maneira de facer deporte e tamén divertirse.","club.p2":"Sitúase nunha paisaxe de beleza singular e con integración en plena natureza, o que fai que a práctica de deporte sexa máis placenteira.","club.p3":"Vén e coñece o Club da Sociedade Deportiva O'Salgueiro, onde poderás gozar do teu deporte favorito.",
    "sponsor.title":"Patrocinios"
  },
  es: {
    "site.title":"Club O Salgueiro – Tenis","site.brand":"Sociedad Deportiva O Salgueiro",
    "nav.tennis":"Tenis","nav.activities":"Actividades","nav.history":"Historia","nav.facilities":"Instalaciones","nav.news":"Noticias","nav.fees":"Tarifas","nav.contact":"Contacto",
    "hero.tag":"Tenis como actividad principal","hero.title":"Tu club de tenis en A Coruña","hero.subtitle":"Bienvenidos a la Sociedad Deportiva O'Salgueiro: club familiar para practicar tenis, pádel y natación en un entorno natural único.","hero.cta.tennis":"Ver tenis","hero.cta.contact":"Contactar",
    "tennis.title":"Tenis","tennis.facilities.title":"Pistas e instalaciones","tennis.facilities.text":"Pistas de tenis con iluminación y vestuarios. Entorno natural y tranquilo para jugar todo el año.",
    "activities.title":"Otras actividades","activities.padel.title":"Pádel","activities.padel.text":"Pistas dobles y quedadas semanales","activities.pool.title":"Piscina","activities.pool.text":"Piscina al aire libre en amplia zona verde para la temporada de verano.","activities.social.title":"Actividades sociales","activities.social.text":"Ligas internas de tenis, encuentros familiares y eventos del club.",
    "history.title":"Nuestra historia","history.lead1":"Nuestra historia",
    "history.p1":"El origen de la Sociedad Deportiva O'Salgueiro se remonta a 1975, cuando unos apasionados por el tenis se lanzaron a comprar unos terrenos para construir la pista de tenis. Casi todos ellos continúan a día de hoy practicando este deporte y siguen siendo socios del Club.",
    "history.p2":"Aquella cancha del principio, con el paso de los años, fue evolucionando al actual conjunto de instalaciones que enriquecen los servicios que presta la Sociedad Deportiva a sus socios.",
    "history.p3":"O'Salgueiro ha mantenido a lo largo de estos años una gran presencia en el mundo de la competición del tenis gallego.",
    "history.p4":"Entre sus socios se encuentran, desde hace años y en la actualidad, campeones de Galicia, campeones de España y campeones de Europa en diversas categorías de veteranos, tanto en la modalidad de individuales como de dobles.",
    "fac.title":"Instalaciones","fac.p1":"Tres pistas de tenis quick, dos de ellas con iluminación artificial.","fac.p2":"Pista de pádel de hierba sintética con iluminación artificial.","fac.p3":"Campo de fútbol 7 de hierba natural.","fac.p4":"Magnífica piscina de 12 x 6 m dotada de las últimas tecnologías y con solárium de hierba natural.","fac.p5":"Pérgola con capacidad para 25 personas y tres parrillas a disposición de los socios.","fac.p6":"Sala de tecnificación.",
    "fac.techroom":"Sala de tecnificación.","fac.gym":"Gimnasio.","fac.sauna":"Sauna.","fac.lockers":"Vestuarios femeninos y masculinos.","fac.lounge":"Salón de TV y juegos de mesa.","fac.pingpong":"Tenis de mesa.","fac.billiards":"Mesa de billar francés.",
    "news.title":"Noticias","news.item1.title":"Liga interna 2026","news.item1.text":"Abierta la inscripción para la nueva temporada. Categorías por niveles.","news.item2.title":"Campamento de verano","news.item2.text":"Escuela intensiva para niños y niñas en julio y agosto.","news.item3.title":"Clínic con jugadores locales","news.item3.text":"Sesión especial con entrenadores invitados.",
    "fees.title":"Tarifas","fees.membership.title":"Cuota familiar de socio","fees.membership.text":"Acceso al club, descuentos en clases y reservas preferentes.","fees.note":"Primer día de prueba gratis. Escríbenos para reservar fecha.",
    "contact.title":"Contacto","contact.name":"Nombre","contact.message":"Mensaje","contact.send":"Enviar","contact.where":"Dónde estamos","contact.map":"Ver en Google Maps","contact.extra":"A 4 km de Betanzos · Horario 24 horas",
    "mailto.prompt":"Parece que no hay una aplicación de correo predeterminada para \"mailto:\". ¿Quieres abrir Gmail para enviar el mensaje?",
    "footer.about.title":"Sobre el club","footer.about.text":"La Sociedad Deportiva O'Salgueiro es un club familiar con instalaciones para tenis, pádel y natación, en un paisaje de gran belleza y plena naturaleza.","footer.links.title":"Enlaces","footer.legal.title":"Legal","footer.legal.legal":"Aviso Legal","footer.legal.privacy":"Política de Privacidad","footer.legal.cookies":"Política de Cookies",
    "club.title":"Sociedad Deportiva O'Salgueiro","club.p1":"La Sociedad Deportiva O'Salgueiro es un club deportivo de carácter familiar con estupendas instalaciones para la práctica del tenis, pádel y natación, actividades que pueden realizar personas de todas las edades y que son una manera de hacer deporte y también divertirse.","club.p2":"Se sitúa en un paisaje de gran belleza e integrada en plena naturaleza, lo que hace que la práctica del deporte sea más placentera.","club.p3":"Ven y conoce el Club de la Sociedad Deportiva O'Salgueiro, donde podrás disfrutar de tu deporte favorito.",
    "sponsor.title":"Patrocinios"
  },
  en: {
    "site.title":"Club O Salgueiro – Tennis","site.brand":"Sociedad Deportiva O Salgueiro",
    "nav.tennis":"Tennis","nav.activities":"Activities","nav.history":"History","nav.facilities":"Facilities","nav.news":"News","nav.fees":"Fees","nav.contact":"Contact",
    "hero.tag":"Tennis as our main activity","hero.title":"Your tennis club in A Coruña","hero.subtitle":"Welcome to Sociedad Deportiva O'Salgueiro: a family-friendly club for tennis, padel and swimming in a unique natural setting.","hero.cta.tennis":"See tennis","hero.cta.contact":"Contact",
    "tennis.title":"Tennis","tennis.facilities.title":"Courts & facilities","tennis.facilities.text":"Tennis courts with lighting and locker rooms. Quiet natural setting to play all year round.",
    "activities.title":"Other activities","activities.padel.title":"Padel","activities.padel.text":"Double courts and weekly meetups","activities.pool.title":"Pool","activities.pool.text":"Outdoor pool in a large green area for the summer season.","activities.social.title":"Social events","activities.social.text":"Internal tennis leagues, family gatherings and club events.",
    "history.title":"Our history","history.lead1":"Our history",
    "history.p1":"The origins of Sociedad Deportiva O'Salgueiro date back to 1975, when a group of tennis enthusiasts purchased land to build the tennis court. Most of them still play today and remain members of the Club.",
    "history.p2":"That initial court, over the years, evolved into the current set of facilities that enhance the services offered by the Club to its members.",
    "history.p3":"Over the years, O'Salgueiro has maintained a strong presence in Galician competitive tennis.",
    "history.p4":"Among its members, both in the past and today, there are champions of Galicia, Spain and Europe in various veterans' categories, in both singles and doubles.",
    "fac.title":"Facilities","fac.p1":"Three quick tennis courts, two with floodlights.","fac.p2":"Synthetic-grass padel court with floodlights.","fac.p3":"7-a-side football pitch with natural grass.","fac.p4":"Superb 12×6 m pool with the latest technology and a natural-grass solarium.","fac.p5":"Pergola for 25 people and three barbecues for members to use.","fac.p6":"High-performance training room.",
    "fac.techroom":"High-performance training room.","fac.gym":"Gym.","fac.sauna":"Sauna.","fac.lockers":"Women's and men's locker rooms.","fac.lounge":"TV lounge and board games.","fac.pingpong":"Table tennis.","fac.billiards":"French billiards table.",
    "news.title":"News","news.item1.title":"In-house league 2026","news.item1.text":"Registration open for the new season. Skill-based categories.","news.item2.title":"Summer camp","news.item2.text":"Intensive kids program in July and August.","news.item3.title":"Clinic with local players","news.item3.text":"Special session with guest coaches.",
    "fees.title":"Fees","fees.membership.title":"Family membership","fees.membership.text":"Club access, lesson discounts and priority bookings.","fees.note":"First trial day free. Contact us to book a date.",
    "contact.title":"Contact","contact.name":"Name","contact.message":"Message","contact.send":"Send","contact.where":"Where we are","contact.map":"View on Google Maps","contact.extra":"4 km from Betanzos · Open 24h",
    "mailto.prompt":"It seems there is no default mail app for \"mailto:\". Do you want to open Gmail to send the message?",
    "footer.about.title":"About the club","footer.about.text":"Sociedad Deportiva O'Salgueiro is a family-friendly club with tennis, padel and swimming facilities, set in beautiful natural surroundings.","footer.links.title":"Links","footer.legal.title":"Legal","footer.legal.legal":"Legal Notice","footer.legal.privacy":"Privacy Policy","footer.legal.cookies":"Cookie Policy",
    "club.title":"Sociedad Deportiva O'Salgueiro","club.p1":"Sociedad Deportiva O'Salgueiro is a family-friendly sports club with excellent facilities for tennis, padel and swimming — activities for all ages and a way to keep fit while having fun.","club.p2":"It is set in beautiful surroundings and fully integrated with nature, making sports practice even more enjoyable.","club.p3":"Come and discover the Sociedad Deportiva O'Salgueiro Club, where you can enjoy your favourite sport.",
    "sponsor.title":"Sponsorship"
  }
};

function applyLang(lang){
  const strings = dict[lang] || dict.es;
  document.documentElement.lang = lang;
  document.querySelectorAll('[data-i18n]').forEach(el => {
    const key = el.getAttribute('data-i18n');
    if (strings[key]) el.textContent = strings[key];
  });
  document.title = strings['site.title'] || document.title;
  document.querySelectorAll('.lang button').forEach(btn => {
    const active = btn.getAttribute('data-lang') === lang;
    btn.classList.toggle('active', active);
    btn.setAttribute('aria-pressed', active ? 'true' : 'false');
  });
  try { localStorage.setItem('lang', lang); } catch(e){}
}

function initLang(){
  const stored = localStorage.getItem('lang');
  const lang = (stored && ['gl','es','en'].includes(stored)) ? stored : 'es';
  applyLang(lang);
}

document.addEventListener('DOMContentLoaded', ()=>{
  initLang();
  document.querySelectorAll('.lang button').forEach(btn => {
    btn.addEventListener('click', ()=>applyLang(btn.getAttribute('data-lang')));
  });

  const sections=['inicio','tenis','actividades','historia','instalacions','novas','tarifas','contacto'];
  function showSection(id){
    try{ localStorage.setItem('last_tab', id); }catch(e){}
    const all = sections.map(s=>document.getElementById(s)).filter(Boolean);
    all.forEach(el=>el.classList.add('hidden'));
    if(id==='inicio' || !sections.includes(id)){
      document.getElementById('inicio').classList.remove('hidden');
    }else{
      const target=document.getElementById(id); if(target) target.classList.remove('hidden');
    }
    document.querySelectorAll('nav a[href^="#"]').forEach(a=>{
      const ok=a.getAttribute('href')==='#'+id;
      a.classList.toggle('active',ok);
      a.setAttribute('aria-current', ok ? 'page' : 'false');
    });
    window.scrollTo({top:0,behavior:'instant'});
  }
  const initial=(location.hash.replace('#',''))||localStorage.getItem('last_tab')||'inicio';
  showSection(initial);
  window.addEventListener('hashchange', ()=>showSection(location.hash.replace('#','')||'inicio'));

  // Hero carousel 5s
  const imgs = Array.from(document.querySelectorAll('#hero-carousel img'));
  let i=0;
  if (imgs.length){
    imgs.forEach((im, idx)=> im.classList.toggle('active', idx===0));
    setInterval(()=>{
      imgs[i].classList.remove('active');
      i = (i + 1) % imgs.length;
      imgs[i].classList.add('active');
    }, 5000);
  }

  // Lightbox
  const lb=document.getElementById('lightbox');
  const lbImg=lb.querySelector('img');
  const closeBtn=lb.querySelector('.lightbox-close');
  function openLB(src){ lbImg.src=src; lb.classList.add('show'); }
  function closeLB(){ lb.classList.remove('show'); lbImg.removeAttribute('src'); }
  function bindGallery(id){
    const g=document.getElementById(id);
    if(g) g.addEventListener('click',e=>{ if(e.target.tagName==='IMG') openLB(e.target.src); });
  }
  bindGallery('gallery'); bindGallery('gallery-instalacions');
  lb.addEventListener('click',e=>{ if(e.target===lb) closeLB(); });
  if(closeBtn) closeBtn.addEventListener('click', closeLB);
  document.addEventListener('keydown',e=>{ if(e.key==='Escape') closeLB(); });

  // Mailto
  window.sendMailto = function(e){
    e.preventDefault();
    const name=document.getElementById('cf-name').value.trim();
    const email=document.getElementById('cf-email').value.trim();
    const msg=document.getElementById('cf-message').value.trim();
    if(!name || !email || !msg){ return false; }
    const subject=encodeURIComponent(`Contacto web – ${name}`);
    const body=encodeURIComponent(`Nome: ${name}\nEmail: ${email}\n\nMensaxe:\n${msg}`);
    const mail=`mailto:salgueiropaderne@gmail.com?subject=${subject}&body=${body}`;
    const a=document.getElementById('mailto-hidden'); a.setAttribute('href', mail); a.click();
    try{ window.location.assign(mail); }catch(_){}
    setTimeout(()=>{
      if (!document.hasFocus()) return;
      const lang=(document.documentElement.lang||'es');
      const strings=dict[lang]||dict.es;
      const promptTxt=strings['mailto.prompt'] || dict.es['mailto.prompt'];
      if(confirm(promptTxt)){
        const url=`https://mail.google.com/mail/?view=cm&fs=1&to=salgueiropaderne@gmail.com&su=${subject}&body=${body}`;
        window.open(url, '_blank', 'noopener');
      }
    }, 300);
    return false;
  };

  const y=document.getElementById('year'); if(y) y.textContent = new Date().getFullYear();
});